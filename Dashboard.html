<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Haryana Complaint Management System</title>
    <link rel="stylesheet" href="./Dashboard.css" />
    <link rel="stylesheet" href="./table.css" />
    <link rel="stylesheet" href="./addComplaints.css" />
    <style>
      .upperDivAddComp {
        text-align: center;
        margin: 1rem;
        position: relative;
      }
      .displayUpdateComp {
        display: none;
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        /* border: 1px solid red; */
        height: 80%;
        width: 80%;
        font-size: 16px;
        margin: auto;
        z-index: 100;
        background: #e2e8f0;
        overflow-y: scroll;
        box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
        border-radius: 5px;
      }

      .updateComp {
        height: 100%;
        width: 100%;
      }
      .closeIconUpdate {
        position: absolute;
        right: 40px;
        top: 50%;
        cursor: pointer;
        /* border: 1px solid red; */
      }
      .closeIconUpdate div {
        border: 1px solid black;
        width: 20px;
        font-weight: 900;
      }
      .activeUpdateComp {
        display: block;
      }
      .line1 {
        transform: rotate(45deg);
      }
      .line2 {
        transform: rotate(-45deg);
      }
      .displayViewComp {
        display: none;
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        /* border: 1px solid red; */
        height: 80%;
        width: 80%;
        font-size: 16px;
        margin: auto;
        z-index: 100;
        background: #e2e8f0;
        overflow-y: scroll;
        box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
        border-radius: 5px;
      }
      .viewComp {
        height: 100%;
        width: 100%;
      }
      .closeIconView {
        position: absolute;
        right: 40px;
        top: 50%;
        cursor: pointer;
        /* border: 1px solid red; */
      }
      .closeIconView div {
        border: 1px solid black;
        width: 20px;
        font-weight: 900;
      }
      .activeviewComp {
        display: block;
      }
    </style>
    <script
      src="https://kit.fontawesome.com/ffe2b9fea9.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js"></script>
  </head>
  <body>
    <header>
      <div class="headerLeft">
        <img src="./haryana_police_logo.webp" alt="" />
        <h2>Haryana CMS</h2>
      </div>
      <div class="headerRight">
        <div class="inputDivMain">
          <div class="hemIcon">
            <i class="fa-solid fa-bars"></i>
          </div>
          <div class="inputHeader">
            <input type="text" placeholder="search" />
            <i class="fa-solid fa-magnifying-glass"></i>
          </div>
        </div>
        <div class="userDetails">
          <div>
            <h2>USER: <span id="userDetail"></span></h2>
          </div>
          <div class="userImage">
            <img src="./haryana_police_logo.webp" alt="" />
          </div>
        </div>
      </div>
    </header>
    <div class="mainDiv1">
      <div id="sidebar">
        <div class="sideTop">
          <div>Main</div>
          <div>
            <a href="./Dashboard.html"
              ><i class="fa-sharp fa-solid fa-house"></i> Dashboard</a
            >
          </div>
        </div>
        <div id="sideMenu">
          <p>Manage Complaints</p>
          <ul>
            <li class="liText">
              <a class="aTag" href="./allComplaints.html">
                <i class="fa-solid fa-book-open"></i> All Complaints</a
              >
            </li>
            <li class="liText">
              <a class="aTag" href="./todayComplain.html"
                ><i class="fa-solid fa-calendar-day"></i> Today Complaints</a
              >
            </li>
            <li class="liText">
              <a class="aTag" href="./highPriority.html"
                ><i class="fa-solid fa-fire"></i>High Priority</a
              >
            </li>
            <li class="liText">
              <a class="aTag" href="./pending.html">
                <i class="fa-sharp fa-regular fa-clock"></i> Pending Complaints
              </a>
            </li>
            <li class="liText">
              <a class="aTag" href="#"
                ><i class="fa-solid fa-circle-check"></i>Closed Complaints</a
              >
            </li>
            <li class="liText">
              <a class="aTag" href="./Visitor.html"
                ><i class="fa-solid fa-eye"></i>View Visitor Complain</a
              >
            </li>
          </ul>
          <p>Manage Officers</p>
          <ul>
            <li class="liText">
              <a class="aTag" href="#">
                <i class="fa-solid fa-user"></i> View SHO
              </a>
            </li>
            <li class="liText">
              <a class="aTag" href="./SHOReport.html"
                ><i class="fa-solid fa-square-poll-horizontal"></i>SHO
                Reports</a
              >
            </li>
            <li class="liText">
              <a class="aTag" href="#"
                ><i class="fa-regular fa-paper-plane"></i>Send Notes</a
              >
            </li>
            <!-- <li class="liText">
              <a class="aTag" href="#">Add/View/Update SP</a>
            </li>
            <li class="liText">
              <a class="aTag" href="#">Add/View/Update IO</a>
            </li> -->
          </ul>
          <!-- <p>Manage Category</p>
          <ul>
            <li class="liText">
              <a class="aTag" href="#"
                >Add/View/Update Category</a
              >
            </li>
            <li class="liText">
              <a class="aTag" href="#">Add/View/Update ACT</a>
            </li>
          </ul> -->

          <div id="buttonDiv">
            <button id="logoutButton" onclick="logout()">
              <i class="fa-solid fa-arrow-right-from-bracket"></i> Logout
            </button>
          </div>
          <!-- <p>Manage Dept.</p>
              <p>Manage Category</p>
              <p>Manage Users (SP)</p>
              <p>Manage Data</p> -->
        </div>
      </div>
      <div class="rightContent">
        <div class="rightTop">
          <!-- <div class="rightTopLeft1">
                <h2>Dashboard</h2>
                <button>Add Complaint</button>
                <button>hi</button>
            </div> -->
          <div class="rightTopLeft">
            <div>
              <h2>Dashboard</h2>
            </div>
            <div>
              <button class="buttonTopRight" onclick="toaddComplaints()">
                Add Complaint
              </button>
            </div>
          </div>
          <div class="rightTopRight">
            <div class="a">
              <!-- <button class="buttonTopLeft">View Report</button> -->
              <button class="buttonTopLeft" onclick="goToIO()">
                SHO Details
              </button>
            </div>
            <div class="b">Home / <span>Dashboard</span></div>
          </div>
        </div>
        <!-- <div class="stats">
          <div class="totalComplaintsStats">
            <div class="totalComplaintsStatsLeft">
              <p>Today Complaints</p>
              <h4>0</h4>
            </div>
            <div class="totalComplaintsStatsRight">
              <img src="./ScreenSPt 2023-03-13 at 9.38.39 PM.png" alt="" />
            </div>
          </div>
          <div class="totalComplaintsStats">
            <div class="totalComplaintsStatsLeft">
              <p>Total Pending</p>
              <h4>0</h4>
            </div>
            <div class="totalComplaintsStatsRight">
              <img src="./ScreenSPt 2023-03-13 at 9.39.04 PM.png" alt="" />
            </div>
          </div>
          <div class="totalComplaintsStats">
            <div class="totalComplaintsStatsLeft">
              <p>Total</p>
              <h4>0</h4>
            </div>
            <div class="totalComplaintsStatsRight">
              <img src="./ScreenSPt 2023-03-13 at 9.38.39 PM.png" alt="" />
            </div>
          </div>
          <div class="totalComplaintsStats">
            <div class="totalComplaintsStatsLeft">
              <p>Officers Complaint</p>
              <h4>0</h4>
            </div>
            <div class="totalComplaintsStatsRight">
              <img src="./ScreenSPt 2023-03-13 at 9.39.04 PM.png" alt="" />
            </div>
          </div>
        </div> -->

        <div class="chart">
          <table border="1" class="table">
            <thead class="tableHead">
              <tr class="trHead">
                <th class="thHead thHead1">Tracking Id</th>
                <!-- <th class="thHead thHead2">Category</th> -->
                <th class="thHead thHead3">Complaint</th>
                <th class="thHead thHead9">Complaint Type</th>
                <th class="thHead thHead4">Issued Date</th>
                <th class="thHead thHead5">Deadline</th>
                <th class="thHead thHead6">Area</th>
                <!-- <th class="thHead thHead7">Status</th> -->
                <th class="thHead thHead8">Action</th>
              </tr>
            </thead>
            <tbody class="tableBody"></tbody>
          </table>
        </div>
        <div class="messages">
          <div class="officerIngormation" id="officerIngormation">
            <!-- <div class="officerInformationSingleDiv">
              <h4>Officer Information</h4>
              <div class="officerInformationText">
                <p>By Mahesh Singh, IO, Sadar, Karnal</p>
                <div class="officerInformationIcons">
                  <i class="fa-regular fa-pen-to-square"></i>
                  <i class="fa-solid fa-trash-can"></i>
                </div>
              </div>
            </div>
            <div class="officerInformationSingleDiv">
              <h4>Officer Information</h4>
              <div class="officerInformationText">
                <p>By Mahesh Singh, IO, Sadar, Karnal</p>
                <div class="officerInformationIcons">
                  <i class="fa-regular fa-pen-to-square"></i>
                  <i class="fa-solid fa-trash-can"></i>
                </div>
              </div>
            </div>
            <div class="officerInformationSingleDiv">
              <h4>Officer Information</h4>
              <div class="officerInformationText">
                <p>By Mahesh Singh, IO, Sadar, Karnal</p>
                <div class="officerInformationIcons">
                  <i class="fa-regular fa-pen-to-square"></i>
                  <i class="fa-solid fa-trash-can"></i>
                </div>
              </div>
            </div>
            <div class="officerInformationSingleDiv">
              <h4>Officer Information</h4>
              <div class="officerInformationText">
                <p>By Mahesh Singh, IO, Sadar, Karnal</p>
                <div class="officerInformationIcons">
                  <i class="fa-regular fa-pen-to-square"></i>
                  <i class="fa-solid fa-trash-can"></i>
                </div>
              </div>
            </div>
            <div class="officerInformationSingleDiv">
              <h4>Officer Information</h4>
              <div class="officerInformationText">
                <p>By Mahesh Singh, IO, Sadar, Karnal</p>
                <div class="officerInformationIcons">
                  <i class="fa-regular fa-pen-to-square"></i>
                  <i class="fa-solid fa-trash-can"></i>
                </div>
              </div>
            </div> -->
          </div>

          <div class="messageFromADGP">
            <h4>Message from ADGP</h4>
            <hr />
            <div class="messageFromADGPBox">
              I am a firm believer that without public support, the Police can
              not be effective. Crusade against criminals, terrorists,
              anti-social elements, economic offend- ers, smugglers etc. cannot
              be successful without the active cooperation of the public. I take
              this opportunity to seek cooperation of all the citizens and reaf-
              firm our resolve to make Haryana Police an effective and efficient
              organization dedicated to the service of the people.
            </div>
          </div>

          <div class="officersData" id="officersData">
            <!-- <div class="OfficerDataSingleDiv">
              <div class="officerImage">
                <img src="./haryana_police_logo.webp" alt="" />
              </div>
              <div class="officersDetails">
                <p>Abhishekh Kumar, IO, Hisar, Nagar</p>
                <div class="progressSlider">Slider</div>
              </div>
            </div>
            <div class="OfficerDataSingleDiv">
              <div class="officerImage">
                <img src="./haryana_police_logo.webp" alt="" />
              </div>
              <div class="officersDetails">
                <p>Abhishekh Kumar, IO, Hisar, Nagar</p>
                <div class="progressSlider">Slider</div>
              </div>
            </div>
            <div class="OfficerDataSingleDiv">
              <div class="officerImage">
                <img src="./haryana_police_logo.webp" alt="" />
              </div>
              <div class="officersDetails">
                <p>Abhishekh Kumar, IO, Hisar, Nagar</p>
                <div class="progressSlider">Slider</div>
              </div>
            </div>
            <div class="OfficerDataSingleDiv">
              <div class="officerImage">
                <img src="./haryana_police_logo.webp" alt="" />
              </div>
              <div class="officersDetails">
                <p>Abhishekh Kumar, IO, Hisar, Nagar</p>
                <div class="progressSlider">Slider</div>
              </div>
            </div> -->
          </div>
        </div>
      </div>
      <!-- <MainTable /> -->
    </div>
    <div class="displayUpdateComp">
      <div class="updateComp">
        <div>
          <div class="upperDivAddComp">
            <h3 class="h3AddComp">Update Complaints</h3>
            <div class="closeIconUpdate">
              <div class="line1"></div>
              <div class="line2"></div>
            </div>
          </div>
        </div>
        <div class="divComplaints">
          <div class="complaintsContent">
            <div class="">
              <label class="complaintsFormLabel">Complaint Number:</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="complainantNumber"
                  readonly
                  placeholder="Complaint Number"
                  class="complaintsInput"
                />
              </div>
            </div>
            <div>
              <label class="complaintsFormLabel">Complaint Name:</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="complainantNameUpdate"
                  placeholder="Complaint Name"
                  class="complaintsInput"
                />
              </div>
            </div>
            <div>
              <label class="complaintsFormLabel">Father's Name :</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="fatherNameUpdate"
                  placeholder="Father's Name"
                  class="complaintsInput"
                />
              </div>
            </div>
            <div>
              <label class="complaintsFormLabel">Email ID:</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="complainantEmailUpdate"
                  placeholder="Email"
                  class="complaintsInput"
                />
              </div>
            </div>
          </div>
          <div class="addressLine1andMobileDiv">
            <div class="complaintsAddressDiv">
              <label class="complaintsFormLabel">Address Line 1</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="addressUpdate"
                  placeholder="Address Line 1"
                  class="complaintsInput"
                />
              </div>
            </div>
            <div class="complaintPhoneDiv">
              <label class="complaintsFormLabel">Mobile Number. :</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="mobileNoUpdate"
                  placeholder="Phone Number"
                  class="complaintsInput"
                />
              </div>
            </div>
          </div>
          <div class="complaintsContentDivtopLeft contentDiv">
            <div class="complaintsAddressDiv">
              <label class="complaintsFormLabel">Address Line 2</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="addressLine1Update"
                  placeholder="Address Line 2"
                  class="complaintsInput"
                />
              </div>
            </div>
            <div class="complaintPhoneDiv">
              <label class="complaintsFormLabel">Alternate Number. :</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="alternateNumberUpdate"
                  placeholder="Alternate Number"
                  class="complaintsInput"
                />
              </div>
            </div>
          </div>
          <div class="cityandState">
            <div class="">
              <label class="complaintsFormLabel">City :</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="cityInputUpdate"
                  placeholder="Complaint Number"
                  class="complaintsInput"
                />
              </div>
            </div>
            <div class="">
              <label class="complaintsFormLabel">State :</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="stateInputUpdate"
                  placeholder="Complaint Name"
                  class="complaintsInput"
                  readonly
                />
              </div>
            </div>
          </div>

          <div class="rangeAndSP">
            <div class="">
              <label class="complaintsFormLabel">Range :</label>
              <div class="complaintContnetDivLeftTop">
                <select
                  name=""
                  id="rangeInputUpdate"
                  class="complaintsInput"
                ></select>
              </div>
            </div>
            <div class="">
              <label class="complaintsFormLabel">SHO Name :</label>
              <div class="complaintContnetDivLeftTop">
                <select name="" id="IOUpdate" class="complaintsInput">
                  <!-- <option value="SP 1">SP 1</option>
                  <option value="SP 2">SP 2</option> -->
                </select>
              </div>
            </div>

            <div>
              <label class="complaintsFormLabel">Status :</label>
              <div class="complaintContnetDivLeftTop">
                <select
                  name=""
                  id="complainStatusUpdate"
                  class="complaintsInput"
                >
                  <option value="PENDING">PENDING</option>
                  <option value="IN-PROCESS">IN-PROCESS</option>
                  <option value="CLOSED">CLOSED</option>
                  <option value="OVERDUE">OVERDUE</option>
                  <option value="REJECTED">REJECTED</option>
                </select>
              </div>
            </div>
          </div>
          <div class="complaintsText">
            <div class="">
              <label class="complaintsFormLabel"
                >Complaint SPrt Description</label
              >
              <div class="complaintsTextArea">
                <textarea
                  type="text"
                  name=""
                  id="SPrtDescriptionUpdate"
                  placeholder="Complaint SPrt Description"
                  class="p-2 mr-2 border-2 rounded w-full h-44"
                ></textarea>
              </div>
            </div>
          </div>
          <div class="complaintsText bottomDiv">
            <div class="m-5 flex-1">
              <label class="complaintsFormLabel">Date of Submission</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="date"
                  name=""
                  id="dateOfSubUpdate"
                  placeholder=""
                  class="complaintsInput"
                />
              </div>
            </div>
            <div class="m-5 flex-1">
              <label class="complaintsFormLabel">Target deadline</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="date"
                  name=""
                  id="emailInput"
                  placeholder="="
                  class="complaintsInput"
                />
              </div>
            </div>
            <div class="highPriorityCheckDiv">
              <div class="complaintContnetDivLeftTop">
                <input
                  type="checkbox"
                  name=""
                  id="highPriorityUpdate"
                  placeholder="First Name"
                  class="border-2 rounded h-5 w-5"
                />
              </div>
              <label class="text-xl">High Priority</label>
            </div>
          </div>
          <div class="specialDiv">
            <div>
              <label class="complaintsFormLabel">Complaints Category :</label>
              <div class="complaintContnetDivLeftTop">
                <select
                  name=""
                  id="complainCategoryUpdate"
                  class="complaintsInput"
                >
                  <option value="CAW">CAW Complaints</option>
                </select>
              </div>
            </div>
            <div>
              <label class="complaintsFormLabel" for="sections"
                >Sections :</label
              >
              <div class="sectionsDisplay"></div>
            </div>
            <div>
              <label class="complaintsFormLabel">Sections :</label>
              <div class="complaintContnetDivLeftTop">
                <select name="" id="sectionsUpdate" class="complaintsInput">
                  <option value="301">301</option>
                  <option value="275">275</option>
                </select>
              </div>
            </div>
          </div>
          <div class="filesDiv">
            <p>Upload Files</p>
            <div class="specialDiv">
              <div class="specialDivInner">
                <label class="complaintsFormLabel">From Internet</label>
                <input type="radio" />
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="file"
                    name=""
                    id="emailInput"
                    placeholder="Special Remark"
                    class="complaintsInput"
                  />
                </div>
              </div>
              <div class="specialDivInner">
                <label class="complaintsFormLabel" for="computer"
                  >From My Computer</label
                >
                <input type="radio" name="computer" id="" />
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="file"
                    name=""
                    id="emailInput"
                    placeholder="Write Complaint Here"
                    class="complaintsInput"
                  />
                </div>
              </div>
            </div>
          </div>

          <div class="addButtonDiv">
            <button
              id="updateButton"
              type="submit"
              class="addButton my-5 p-3 border-2 border-green-400 hover:border-green-600 hover:bg-green-600 transition-all rounded font-bold hover:text-white"
            >
              Update
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="displayViewComp">
      <div class="updateComp">
        <div>
          <div class="upperDivAddComp">
            <h3 class="h3AddComp">View Complaints</h3>
            <div class="closeIconView">
              <div class="line1"></div>
              <div class="line2"></div>
            </div>
          </div>
        </div>
        <div class="divComplaints">
          <div class="complaintsContent">
            <div class="">
              <label class="complaintsFormLabel">Complaint Number:</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="complainantNumberView"
                  readonly
                  placeholder="Complaint Number"
                  class="complaintsInput"
                />
              </div>
            </div>
            <div>
              <label class="complaintsFormLabel">Complaint Name:</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="complainantNameView"
                  placeholder="Complaint Name"
                  class="complaintsInput"
                  readonly
                />
              </div>
            </div>
            <div>
              <label class="complaintsFormLabel">Father's Name :</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="fatherNameView"
                  placeholder="Father's Name"
                  class="complaintsInput"
                  readonly
                />
              </div>
            </div>
            <div>
              <label class="complaintsFormLabel">Email ID:</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="complainantEmailView"
                  placeholder="Email"
                  class="complaintsInput"
                  readonly
                />
              </div>
            </div>
          </div>
          <div class="addressLine1andMobileDiv">
            <div class="complaintsAddressDiv">
              <label class="complaintsFormLabel">Address Line 1</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="addressView"
                  placeholder="Address Line 1"
                  class="complaintsInput"
                  readonly
                />
              </div>
            </div>
            <div class="complaintPhoneDiv">
              <label class="complaintsFormLabel">Mobile Number. :</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="mobileNoView"
                  placeholder="Phone Number"
                  class="complaintsInput"
                  readonly
                />
              </div>
            </div>
          </div>
          <div class="complaintsContentDivtopLeft contentDiv">
            <div class="complaintsAddressDiv">
              <label class="complaintsFormLabel">Address Line 2</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="addressLine1View"
                  placeholder="Address Line 2"
                  class="complaintsInput"
                  readonly
                />
              </div>
            </div>
            <div class="complaintPhoneDiv">
              <label class="complaintsFormLabel">Alternate Number. :</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="alternateNumberView"
                  placeholder="Alternate Number"
                  class="complaintsInput"
                  readonly
                />
              </div>
            </div>
          </div>
          <div class="cityandState">
            <div class="">
              <label class="complaintsFormLabel">City :</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="cityInputView"
                  placeholder="Complaint Number"
                  class="complaintsInput"
                  readonly
                />
              </div>
            </div>
            <div class="">
              <label class="complaintsFormLabel">State :</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="text"
                  name=""
                  id="stateInputView"
                  placeholder="Complaint Name"
                  class="complaintsInput"
                  value="HARYANA"
                  readonly
                />
              </div>
            </div>
          </div>

          <div class="rangeAndSP">
            <div class="">
              <label class="complaintsFormLabel">Range :</label>
              <div class="complaintContnetDivLeftTop">
                <select
                  name=""
                  id="rangeInputView1"
                  class="complaintsInput"
                  disabled
                >
                  <option value="">Select Range</option>
                </select>
              </div>
            </div>
            <div class="">
              <label class="complaintsFormLabel">SHO Name :</label>
              <div class="complaintContnetDivLeftTop">
                <select name="" id="IONameView1" class="complaintsInput">
                  <option value="">Select IO</option>
                </select>
              </div>
            </div>

            <div>
              <label class="complaintsFormLabel">Status :</label>
              <div class="complaintContnetDivLeftTop">
                <select
                  name=""
                  id="complainStatusView"
                  class="complaintsInput"
                  disabled
                >
                  <option value="PENDING">PENDING</option>
                  <option value="IN-PROCESS">IN-PROCESS</option>
                  <option value="CLOSED">CLOSED</option>
                  <option value="OVERDUE">OVERDUE</option>
                  <option value="REJECTED">REJECTED</option>
                </select>
              </div>
            </div>
          </div>
          <div class="complaintsText">
            <div class="">
              <label class="complaintsFormLabel"
                >Complaint SPrt Description
              </label>
              <div class="complaintsTextArea">
                <textarea
                  type="text"
                  name=""
                  id="SPrtDescriptionView"
                  readonly
                  placeholder="Complaint SPrt Description"
                  class="p-2 mr-2 border-2 rounded w-full h-44"
                ></textarea>
              </div>
            </div>
          </div>
          <div class="complaintsText bottomDiv">
            <div class="m-5 flex-1">
              <label class="complaintsFormLabel">Date of Submission</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="date"
                  name=""
                  id="dateOfSubView"
                  placeholder=""
                  class="complaintsInput"
                  readonly
                />
              </div>
            </div>
            <div class="m-5 flex-1">
              <label class="complaintsFormLabel">Target deadline</label>
              <div class="complaintContnetDivLeftTop">
                <input
                  type="date"
                  name=""
                  id="emailInput"
                  placeholder="="
                  class="complaintsInput"
                  readonly
                />
              </div>
            </div>
            <div class="highPriorityCheckDiv">
              <div class="complaintContnetDivLeftTop">
                <input
                  type="checkbox"
                  name=""
                  id="highPriorityView"
                  placeholder="First Name"
                  class="border-2 rounded h-5 w-5"
                  readonly
                />
              </div>
              <label class="text-xl">High Priority</label>
            </div>
          </div>
          <div class="specialDiv">
            <div>
              <label class="complaintsFormLabel">Complaints Category :</label>
              <div class="complaintContnetDivLeftTop">
                <select
                  name=""
                  id="complainCategoryView"
                  class="complaintsInput"
                  disabled
                >
                  <option value="CAW">CAW Complaints</option>
                </select>
              </div>
            </div>
            <div>
              <label class="complaintsFormLabel" for="sections"
                >Sections :</label
              >
              <div class="sectionsDisplay"></div>
            </div>
            <div>
              <label class="complaintsFormLabel">Sections :</label>
              <div class="complaintContnetDivLeftTop">
                <select
                  name=""
                  id="sectionsView"
                  class="complaintsInput"
                  disabled
                >
                  <option value="301">301</option>
                  <option value="275">275</option>
                </select>
              </div>
            </div>
          </div>
          <!-- <div class="filesDiv">
            <p>Upload Files</p>
            <div class="specialDiv">
              <div class="specialDivInner">
                <label class="complaintsFormLabel">From Internet</label>
                <input type="radio" readonly />
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="file"
                    name=""
                    id="emailInput"
                    placeholder="Special Remark"
                    class="complaintsInput"
                    readonly
                  />
                </div>
              </div>
              <div class="specialDivInner">
                <label class="complaintsFormLabel" for="computer"
                  >From My Computer</label
                >
                <input type="radio" name="computer" id="" readonly />
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="file"
                    name=""
                    id="emailInput"
                    placeholder="Write Complaint Here"
                    class="complaintsInput"
                    readonly
                  />
                </div>
              </div>
            </div>
          </div> -->

          <!-- <div class="addButtonDiv">
            <button
              onclick="updateComplain()"
              type="submit"
              class="addButton my-5 p-3 border-2 border-green-400 hover:border-green-600 hover:bg-green-600 transition-all rounded font-bold hover:text-white"
            >
              Update
            </button>
          </div> -->
        </div>
      </div>
    </div>
  </body>
</html>
<script src="./dashboard.js"></script>
<script src="./commonFunctions.js"></script>
<script type="module">
  //   import {getUser} from "./Components/getData.js"
  // let data =[]
  //
  //   let a = async ()=>{
  //     let b = await getUser(data)
  //     console.log(b)
  //     userName.innerText=`${b.fname}`
  //   }
  //   // console.log(a)
  //   a()
  //   // getComplain()
  import {
    getUser,
    getComplain,
    getRange,
    getSHO,
  } from "./Components/GetData.js";
  let user = {};
  let userName = document.getElementById("userDetail");
  async function a() {
    const result = await getUser();
    console.log(result);
    userName.innerText = `${result.fname} ${result.lname}, ${result.designation}, ${result.districtofc}`;
    user = result;
    return user;
  }
  let complainData = [];
  async function b() {
    const resultComplain = await getComplain();
    const resRange = await getRange();
    let resSHO = await getSHO();
    console.log(user);
    resSHO = resSHO.filter((el) => {
      // console.log(el);
      return user.districtofc === el.districtofc;
    });
    append(resultComplain);
    appendrangeInputUpdate(resRange);
    appendrangeInputView1(resRange);
    appendIOUpdate(resSHO);
    appendIONameView1(resSHO);
    appendOfficerInfo(resSHO);
    appendImageIOInfo(resSHO);

    console.log(resultComplain);
  }

  const appendOfficerInfo = (data) => {
    // <div class="officerInformationSingleDiv">
    //   <h4>Officer Information</h4>
    //   <div class="officerInformationText">
    //     <p>By Mahesh Singh, IO, Sadar, Karnal</p>
    //     <div class="officerInformationIcons">
    //       <i class="fa-regular fa-pen-to-square"></i>
    //       <i class="fa-solid fa-trash-can"></i>
    //     </div>
    //   </div>
    // </div>;

    console.log(data);
    let cont = document.getElementById("officerIngormation");
    cont.innerHTML = null;
    data.map((el) => {
      let div = document.createElement("div");
      div.setAttribute("class", "officerInformationSingleDiv");
      let h4 = document.createElement("h4");
      h4.innerText = "Officer Information";
      let divInner = document.createElement("div");
      divInner.setAttribute("class", "officerInformationText");
      let p = document.createElement("p");
      p.innerText = `By ${el.fname} ${el.lname}, ${el.designation} ${el.policestation}`;

      divInner.append(p);
      div.append(h4, divInner);
      cont.append(div);
    });
  };

  let appendImageIOInfo = (data) => {
    let cont = document.getElementById("officersData");

    // <div class="OfficerDataSingleDiv">
    //           <div class="officerImage">
    //             <img src="./haryana_police_logo.webp" alt="" />
    //           </div>
    //           <div class="officersDetails">
    //             <p>Abhishekh Kumar, IO, Hisar, Nagar</p>
    //             <div class="progressSlider">Slider</div>
    //           </div>
    //         </div>

    data.map((el) => {
      let div = document.createElement("div");
      div.setAttribute("class", "OfficerDataSingleDiv");
      let divImg = document.createElement("div");
      divImg.setAttribute("class", "officerImage");
      let img = document.createElement("img");
      img.src = "./haryana_police_logo.webp";
      let divText = document.createElement("div");
      divText.setAttribute("class", "officersDetails");
      let p = document.createElement("p");
      p.innerText = `${el.fname} ${el.lname}, ${el.designation} ${el.policestation}`;

      divImg.append(img);
      divText.append(p);
      div.append(divImg, divText);
      cont.append(div);
    });
  };

  let convertDate = (id) => {
    let myDate = new Date(id);
    return myDate.toLocaleDateString();
  };
  const append = (data) => {
    let newArr = [];
    for (let i = 0; i < 6; i++) {
      newArr.push(data[i]);
    }
    let container = document.querySelector(".tableBody");
    container.innerHTML = null;
    newArr.forEach((el) => {
      // console.log(el);
      let tr = document.createElement("tr");
      tr.setAttribute("class", "tableRow");
      let td1 = document.createElement("td");
      td1.setAttribute("class", "tablecol");
      td1.setAttribute("class", "tablecol1");
      td1.innerText = el.trackingId;
      let td2 = document.createElement("td");
      td2.setAttribute("class", "tablecol");
      td2.setAttribute("class", "tablecol2");
      td2.innerText = el.category;
      let td3 = document.createElement("td");
      td3.setAttribute("class", "tablecol");
      td3.setAttribute("class", "tablecol3");
      td3.innerText = el.ComplainantName;
      let td4 = document.createElement("td");
      td4.setAttribute("class", "tablecol");
      td4.setAttribute("class", "tablecol4");
      td4.innerText = convertDate(el.createdAt);
      let td5 = document.createElement("td");
      td5.setAttribute("class", "tablecol");
      td5.setAttribute("class", "tablecol5");
      td5.innerText = el.deadline;
      let td6 = document.createElement("td");
      td6.setAttribute("class", "tablecol");
      td6.setAttribute("class", "tablecol6");
      // td6.style.border = "1px solid red";
      td6.style.padding = "10px";
      let divarea = document.createElement("div");
      let p6 = document.createElement("p");
      p6.innerText = el.City;
      p6.style.margin = "10px 0px 10px 0px";
      // p6.style.border="1px solid cyan"
      divarea.style.borderRadius = "2%";
      divarea.append(p6);
      td6.append(divarea);
      let td7 = document.createElement("td");
      td7.setAttribute("class", "tablecol");
      td7.setAttribute("class", "tablecol7");
      td7.style.padding = "10px";
      let divStatus = document.createElement("div");
      let p7 = document.createElement("p");
      p7.innerText = el.status;
      p7.style.margin = "10px 0px 10px 0px";
      divStatus.append(p7);
      td7.append(divStatus);

      let td9 = document.createElement("td");
      td9.style.padding = "10px";
      let divtd9 = document.createElement("div");
      // divtd9.style.border="1px solid cyan"
      // divtd9.style.height = "40px";
      let p9 = document.createElement("p");
      p9.innerText = el.ComplaintCategory;
      p9.style.margin = "10px 0px 10px 0px";
      divtd9.append(p9);

      td9.append(divtd9);

      if (el.complaintType === "CAW") {
        //   divtd9.style.border = "1px solid navy";
        //   divtd9.style.backgroundColor = "navy";
        divtd9.style.boxSizing = "border-box";
        divtd9.style.alignSelf = "center";
        //   divtd9.style.height = "40px";
        //   divtd9.style.color = "white";
      } else if (el.complaintType === "Officers") {
        //   divtd9.style.border = "1px solid brown";
        //   divtd9.style.backgroundColor = "brown";
        divtd9.style.boxSizing = "border-box";
        divtd9.style.alignSelf = "center";
        //   divtd9.style.height = "40px";
        //   divtd9.style.color = "white";
      }

      if (el.priority === "high") {
        //   divarea.style.border = "1px solid green";
        //   divarea.style.backgroundColor = "green";
        divarea.style.boxSizing = "border-box";
        divarea.style.alignSelf = "center";
        //   divarea.style.height = "40px";
        //   divarea.style.color = "white";
      }

      if (el.status === "progress") {
        //   divStatus.style.border = "1px solid lime";
        //   divStatus.style.backgroundColor = "lime";
        divStatus.style.boxSizing = "border-box";
        divStatus.style.alignSelf = "center";
        //   divStatus.style.height = "40px";
        //   divStatus.style.color = "white";
      } else if (el.status === "pending") {
        //   divStatus.style.border = "1px solid red";
        //   divStatus.style.backgroundColor = "red";
        divStatus.style.boxSizing = "border-box";
        divStatus.style.alignSelf = "center";
        //   divStatus.style.height = "40px";
        //   divStatus.style.color = "white";
      } else if (el.status === "closed") {
        //   divStatus.style.border = "1px solid blue";
        //   divStatus.style.backgroundColor = "blue";
        divStatus.style.boxSizing = "border-box";
        divStatus.style.alignSelf = "center";
        //   divStatus.style.height = "40px";
        //   divStatus.style.color = "white";
      } else if (el.status === "overdue") {
        //   divStatus.style.border = "1px solid darkviolet";
        //   divStatus.style.backgroundColor = "darkviolet";
        divStatus.style.boxSizing = "border-box";
        divStatus.style.alignSelf = "center";
        //   divStatus.style.height = "40px";
        //   divStatus.style.color = "white";
      } else if (el.status === "rejected") {
        //   divStatus.style.border = "1px solid gray";
        //   divStatus.style.backgroundColor = "gray";
        divStatus.style.boxSizing = "border-box";
        divStatus.style.alignSelf = "center";
        //   divStatus.style.height = "40px";
        //   divStatus.style.color = "white";
      }

      let td8 = document.createElement("td");
      let divtd8 = document.createElement("div");
      divtd8.style.display = "inline";
      // divtd8.style.gap="5px"
      let updateIcon = document.createElement("button");
      updateIcon.addEventListener("click", () => {
        updateData(el);
      });

      let viewIcon = document.createElement("button");
      let commentsIcon = document.createElement("button");
      updateIcon.setAttribute("class", "buttonsAction");
      viewIcon.setAttribute("class", "buttonsAction");
      commentsIcon.setAttribute("class", "buttonsAction");
      updateIcon.innerHTML = '<i class="fa-solid fa-pen"></i>';
      updateIcon.style.width = "30%";

      viewIcon.innerHTML = '<i class="fa-solid fa-eye"></i>';
      viewIcon.style.margin = "5px";
      viewIcon.style.width = "20%";
      viewIcon.addEventListener("click", () => {
        viewData(el);
      });

      commentsIcon.innerHTML = '<i class="fa-solid fa-comment"></i>';
      commentsIcon.style.width = "40%";
      // commentsIcon.style.margin="5px"

      // td8.innerText = "hi";
      // updateIcon.innerHTML('<i class="fa-light fa-pen"></i>')

      td8.style.width = "15%";
      divtd8.append(updateIcon, viewIcon);
      td8.append(divtd8);
      tr.append(td1, td3, td9, td4, td5, td6, td8);
      // console.log(tr);
      container.append(tr);
    });
  };
  let localEl = {};
  const get = (id) => {
    return document.getElementById(id);
  };
  const updateData = async (el) => {
    let displayUpdateComp = document.querySelector(".displayUpdateComp");
    displayUpdateComp.classList.toggle("activeUpdateComp");
    localEl = el;
    console.log(el);
    get("complainantNameUpdate").value = el.ComplainantName;
    get("fatherNameUpdate").value = el.FatherName;
    get("complainantEmailUpdate").value = el.Email;
    get("addressUpdate").value = el.Address;
    get("mobileNoUpdate").value = el.ComplainantPhoneNumber;
    get("addressLine1Update").value = el.AddressLine1;
    get("alternateNumberUpdate").value = el.alternateNumber;
    get("cityInputUpdate").value = el.City;
    get("rangeInputUpdate").value = el.policerange;
    get("IOUpdate").value = el.SPName;
    get("complainStatusUpdate").value = el.Status;
    get("SPrtDescriptionUpdate").value = el.ComplaintSPrtDescription;
    get("complainCategoryUpdate").value = el.ComplaintCategory;
    get("complainantNumber").value = el.trackingId;
    // get("sectionsUpdate").value=el.
    // get("highPriorityUpdate").value=el.

    return localEl;
  };

  const updateComplain = async () => {
    console.log(`https://hrycms.onrender.com/complain/update/${localEl._id}`);
    let obj = {
      ComplainantName: document.getElementById("complainantNameUpdate").value,
      Email: document.getElementById("complainantEmailUpdate").value,
      author_id: user._id,
      policerange: document.getElementById("rangeInputUpdate").value,
      rangeDistrictName: document.getElementById("rangeInputUpdate").value,
      policestation: "",
      phoneNumber: "",
      createdAt: "",
      updatedAt: "",
      ComplainantPhoneNumber: document.getElementById("mobileNoUpdate").value,
      alternateNumber: document.getElementById("alternateNumberUpdate").value,
      FatherName: document.getElementById("fatherNameUpdate").value,
      Address: document.getElementById("addressUpdate").value,
      AddressLine1: document.getElementById("addressLine1Update").value,
      State: document.getElementById("stateInputUpdate").value,
      City: document.getElementById("cityInputUpdate").value,
      ComplaintCategory: document.getElementById("complainCategoryUpdate")
        .value,
      ComplaintSPrtDescription: document.getElementById("SPrtDescriptionUpdate")
        .value,
      SectionsofComplaint: "",
      Range: document.getElementById("rangeInputUpdate").value,
      SPName: document.getElementById("IOUpdate").value,
      Status: document.getElementById("complainStatusUpdate").value,
      Markto: document.getElementById("IOUpdate").value,
    };
    obj = JSON.stringify(obj);
    console.log(obj);

    try {
      let res = await fetch(
        `https://hrycms.onrender.com/complain/update/${localEl._id}`,
        {
          method: "PUT",
          body: obj,
          headers: {
            "Content-Type": "application/json",
          },
        }
      );
      res = await res.json();
      console.log(res);
      alert("Update");
      window.location.reload();
      let compUpdate = document.querySelector(".displayUpdateComp");
      compUpdate.classList.toggle("activeUpdateComp");
    } catch (err) {
      alert(err);
    }
  };
  let updateButton = document
    .getElementById("updateButton")
    .addEventListener("click", updateComplain);
  const viewData = (el) => {
    console.log(el);
    let displayViewComp = document.querySelector(".displayViewComp");
    displayViewComp.classList.toggle("activeviewComp");
    get("complainantNameView").value = el.ComplainantName;
    get("fatherNameView").value = el.FatherName;
    get("complainantEmailView").value = el.Email;
    get("addressView").value = el.Address;
    get("mobileNoView").value = el.ComplainantPhoneNumber;
    get("addressLine1View").value = el.AddressLine1;
    get("alternateNumberView").value = el.alternateNumber;
    get("cityInputView").value = el.City;
    get("rangeInputView1").value = el.policerange;
    get("IONameView1").value = el.SPName;
    get("complainStatusView").value = el.Status;
    get("SPrtDescriptionView").value = el.ComplaintSPrtDescription;
    get("complainCategoryView").value = el.ComplaintCategory;
    get("complainantNumberView").value = el.trackingId;
    // get("dateOfSubView").value = convertDate(el.createdAt);
  };
  const appendrangeInputUpdate = (data) => {
    let rangeInputUpdate = document.getElementById("rangeInputUpdate");
    // let rangeInputView1 = document.getElementById("rangeInputView1")
    rangeInputUpdate.innerHTML = null;
    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = el.rangeName;
      option.value = el.rangeName;
      rangeInputUpdate.append(option);
      // rangeInputView1.append(option)
    });
  };
  const appendIOUpdate = (data) => {
    let IOUpdate = document.getElementById("IOUpdate");
    let IONameView1 = document.getElementById("IONameView1");
    IOUpdate.innerHTML = null;
    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = `${el.fname} ${el.lname}`;
      option.value = el.email;
      IOUpdate.append(option);
      // IONameView1.append(option)
    });
  };
  // view

  const appendrangeInputView1 = (data) => {
    // console.log(data);
    let rangeInputView1 = document.getElementById("rangeInputView1");
    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = el.rangeName;
      option.value = el.rangeName;
      rangeInputView1.append(option);
    });
  };
  const appendIONameView1 = (data) => {
    let IONameView1 = document.getElementById("IONameView1");
    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = `${el.fname} ${el.lname}`;
      option.value = el.email;
      IONameView1.append(option);
    });
  };
  a();
  b();
</script>
