<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Complaint</title>
    <script
      src="https://kit.fontawesome.com/ffe2b9fea9.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="./Dashboard.css" />
    <link rel="stylesheet" href="./addComplaints.css" />
  </head>
  <body>
    <header>
      <div class="headerLeft">
        <img src="./haryana_police_logo.webp" alt="" />
        <h2>Haryana CMS</h2>
      </div>
      <div class="headerRight">
        <div class="inputDivMain">
          <div class="hemIcon">
            <i class="fa-solid fa-bars"></i>
          </div>
          <div class="inputHeader">
            <input type="text" placeholder="search" id="searchBox" />
            <i class="fa-solid fa-magnifying-glass" onclick="search()"></i>
          </div>
        </div>
        <div class="userDetails">
          <div>
            <h2>USER: <span id="userDetail"></span></h2>
          </div>
          <div class="userImage">
            <img src="./haryana_police_logo.webp" alt="" />
          </div>
        </div>
      </div>
    </header>
    <div class="mainDiv1">
      <div id="sidebar">
        <div class="sideTop">
          <div>Main</div>
          <div>
            <a href="./Dashboard.html"
              ><i class="fa-sharp fa-solid fa-house"></i> Dashboard</a
            >
          </div>
        </div>
        <div id="sideMenu">
          <p>Manage Complaints</p>
          <ul>
            <li class="liText">
              <a class="aTag" href="./allComplaints.html">
                <i class="fa-solid fa-book-open"></i> All Complaints
                <span id="allcomp"></span
              ></a>
            </li>
            <li class="liText">
              <a class="aTag" href="./todayComplain.html"
                ><i class="fa-solid fa-calendar-day"></i> Today Complaints
                <span id="todaycomp"></span
              ></a>
            </li>
            <li class="liText">
              <a class="aTag" href="./highPriority.html"
                ><i class="fa-solid fa-fire"></i>High Priority
                <span id="prioritycomp"></span
              ></a>
            </li>
            <li class="liText">
              <a class="aTag" href="./pending.html">
                <i class="fa-sharp fa-regular fa-clock"></i> Pending Complaints
                <span id="pendingcomp"></span
              ></a>
            </li>
            <li class="liText">
              <a class="aTag" href="./Disposed.html"
                ><i class="fa-solid fa-circle-check"></i>Disposed Complaints
                <span id="disposedComp"></span
              ></a>
            </li>
            <li class="liText">
              <a class="aTag" href="./Visitor.html"
                ><i class="fa-solid fa-eye"></i>View Visitor Complain
                <span id="visitorcomp"></span
              ></a>
            </li>
          </ul>
          <p>Manage Officers</p>
          <ul>
            <!-- <li class="liText">
              <a class="aTag" href="#">
                <i class="fa-solid fa-user"></i> View SHO
              </a>
            </li> -->
            <li class="liText">
              <a class="aTag" href="./SHOReport.html"
                ><i class="fa-solid fa-square-poll-horizontal"></i>SHO
                Reports</a
              >
            </li>
            <!-- <li class="liText">
              <a class="aTag" href="#"
                ><i class="fa-regular fa-paper-plane"></i>Send Notes</a
              >
            </li> -->
            <!-- <li class="liText">
                  <a class="aTag" href="#">Add/View/Update SP</a>
                </li>
                <li class="liText">
                  <a class="aTag" href="#">Add/View/Update IO</a>
                </li> -->
          </ul>
          <!-- <p>Manage Category</p>
              <ul>
                <li class="liText">
                  <a class="aTag" href="#"
                    >Add/View/Update Category</a
                  >
                </li>
                <li class="liText">
                  <a class="aTag" href="#">Add/View/Update ACT</a>
                </li>
              </ul> -->
          <!-- <p>Manage Reports</p>
          <ul>
            <li class="liText">
              <a class="aTag" href="./pending.html"
                ><i class="fa-solid fa-file-circle-exclamation"></i>Pending
                Reports</a
              >
            </li>
            <li class="liText">
              <a class="aTag" href="#"
                ><i class="fa-solid fa-file-circle-check"></i>DISPOSED
                Reports</a
              >
            </li>
            <li class="liText">
              <a class="aTag" href="#"
                ><i class="fa-solid fa-bullseye"></i>Range Reports</a
              >
            </li>
            <li class="liText">
              <a class="aTag" href="#"
                ><i class="fa-solid fa-circle-exclamation"></i>High Priority
                Reports</a
              >
            </li>
            <li class="liText">
              <a class="aTag" href="#"
                ><i class="fa-solid fa-file-pdf"></i>View all Reports</a
              >
            </li>
          </ul> -->
          <div id="buttonDiv">
            <button id="logoutButton" onclick="logout()">
              <i class="fa-solid fa-arrow-right-from-bracket"></i> Logout
            </button>
          </div>
          <!-- <p>Manage Dept.</p>
                  <p>Manage Category</p>
                  <p>Manage Users (SP)</p>
                  <p>Manage Data</p> -->
        </div>
      </div>
      <div class="rightContent">
        <div class="complaintsRightTop">
          <span>
            <span class="complaintsSpan">ADD</span>
            <span class="complaintsSpan">>></span>
            <span class="complaintsSpan complaintsNewComplaints"
              >NEW COMPLAINT</span
            >
          </span>
        </div>
        <div>
          <div class="divComplaints">
            <div class="complaintsContent">
              <div class="">
                <label class="complaintsFormLabel">Complaint Number:</label>
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="complainantNumber"
                    placeholder="Complaint Number"
                    class="complaintsInput"
                    disabled
                  />
                </div>
              </div>
              <div>
                <label class="complaintsFormLabel">Complaint Name:</label>
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="complainantName"
                    placeholder="Complaint Name"
                    class="complaintsInput"
                  />
                </div>
              </div>
              <div>
                <label class="complaintsFormLabel">Father's Name :</label>
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="fatherName"
                    placeholder="Father's Name"
                    class="complaintsInput"
                  />
                </div>
              </div>
              <div>
                <label class="complaintsFormLabel">Email ID:</label>
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="complainantEmail"
                    placeholder="Email"
                    class="complaintsInput"
                  />
                </div>
              </div>
            </div>
            <div class="addressLine1andMobileDiv">
              <div class="complaintsAddressDiv">
                <label class="complaintsFormLabel">Address Line 1</label>
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="address"
                    placeholder="Address Line 1"
                    class="complaintsInput"
                  />
                </div>
              </div>
              <div class="complaintPhoneDiv">
                <label class="complaintsFormLabel">Mobile Number. :</label>
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="mobileNo"
                    placeholder="Phone Number"
                    class="complaintsInput"
                  />
                </div>
              </div>
            </div>
            <div class="complaintsContentDivtopLeft contentDiv">
              <div class="complaintsAddressDiv">
                <label class="complaintsFormLabel">Address Line 2</label>
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="addressLine1"
                    placeholder="Address Line 2"
                    class="complaintsInput"
                  />
                </div>
              </div>
              <div class="complaintPhoneDiv">
                <label class="complaintsFormLabel">Alternate Number. :</label>
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="alternateNumber"
                    placeholder="Alternate Number"
                    class="complaintsInput"
                  />
                </div>
              </div>
            </div>
            <div class="cityandState">
              <div class="">
                <label class="complaintsFormLabel">City :</label>
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="cityInput"
                    placeholder="Complaint Number"
                    class="complaintsInput"
                  />
                </div>
              </div>
              <div class="">
                <label class="complaintsFormLabel">District :</label>
                <div class="complaintContnetDivLeftTop">
                  <select
                    name=""
                    id="districtInput"
                    class="complaintsInput"
                    disabled
                  >
                    <option value="">Select District</option>
                  </select>
                  <!-- <input
                    type="text"
                    name=""
                    id="districtInput"
                    placeholder="Complaint Name"
                    class="complaintsInput"
                  /> -->
                </div>
              </div>
              <div class="">
                <label class="complaintsFormLabel">State :</label>
                <div class="complaintContnetDivLeftTop">
                  <select
                    name="State"
                    id="stateInput"
                    class="complaintsInput"
                    disabled
                  >
                    <option value="HARYANA">HARYANA</option>
                  </select>
                  <!-- <input
                    type="text"
                    name=""
                    id="stateInput"
                    placeholder="Complaint Name"
                    class="complaintsInput"
                  /> -->
                </div>
              </div>
            </div>

            <div class="rangeAndSP">
              <div class="">
                <label class="complaintsFormLabel">Range :</label>
                <div class="complaintContnetDivLeftTop">
                  <select
                    name=""
                    id="rangeInput"
                    class="complaintsInput"
                    disabled
                  >
                    <option value="">Select Range</option>
                  </select>
                </div>
              </div>
              <div class="">
                <label class="complaintsFormLabel">Mark to Station :</label>
                <div class="complaintContnetDivLeftTop">
                  <select name="" id="SHOName" class="complaintsInput">
                    <option value="">Select Station</option>
                  </select>
                </div>
              </div>

              <div>
                <label class="complaintsFormLabel">Status :</label>
                <div class="complaintContnetDivLeftTop">
                  <select name="" id="complainStatus" class="complaintsInput">
                    <option value="PENDING">PENDING</option>
                    <option value="IN-PROCESS">IN-PROCESS</option>
                    <option value="DISPOSED">DISPOSED</option>
                    <option value="OVERDUE">OVERDUE</option>
                    <option value="REJECTED">REJECTED</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="complaintsText">
              <div class="">
                <label class="complaintsFormLabel"
                  >Complaint Short Description</label
                >
                <div class="complaintsTextArea">
                  <textarea
                    type="text"
                    name=""
                    id="shortDescription"
                    placeholder="Complaint Short Description"
                    class="p-2 mr-2 border-2 rounded w-full h-44"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="complaintsText bottomDiv">
              <div class="m-5 flex-1">
                <label class="complaintsFormLabel">Date of Submission</label>
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="date"
                    name=""
                    id="dateOfSub"
                    placeholder=""
                    class="complaintsInput"
                    required
                  />
                </div>
              </div>

              <div class="highPriorityCheckDiv">
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="checkbox"
                    name=""
                    id="highPriority"
                    placeholder="First Name"
                    class="border-2 rounded h-5 w-5"
                  />
                </div>
                <label class="text-xl">High Priority</label>
              </div>
            </div>
            <div class="specialDiv">
              <div>
                <label class="complaintsFormLabel">Complaints Category :</label>
                <div class="complaintContnetDivLeftTop">
                  <select
                    name=""
                    id="complainCategory"
                    class="complaintsInput"
                  ></select>
                </div>
              </div>
              <div>
                <label class="complaintsFormLabel" for="sections">ACT :</label>

                <select name="" id="act" class="complaintsInput"></select>
              </div>
              <div>
                <label class="complaintsFormLabel">Sections :</label>
                <div class="complaintContnetDivLeftTop">
                  <textarea name="" id="" cols="30" rows="5"></textarea>
                </div>
              </div>
            </div>
            <div class="filesDiv">
              <p>Upload Files</p>
              <!-- <div class="specialDiv"> -->
              <div class="specialDivInner">
                <!-- <label class="complaintsFormLabel">From Internet</label> -->
                <!-- <input type="radio" /> -->
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="file"
                    name=""
                    id="inputFiles"
                    placeholder="Special Remark"
                    class="complaintsInput"
                    multiple
                  />
                  <div id="inputFilesText"></div>
                </div>
              </div>
              <!-- <div class="specialDivInner">
                  <label class="complaintsFormLabel" for="computer"
                    >From My Computer</label
                  >
                  <input type="radio" name="computer" id="" />
                  <div class="complaintContnetDivLeftTop">
                    <input
                      type="file"
                      name=""
                      id="emailInput"
                      placeholder="Write Complaint Here"
                      class="complaintsInput"
                    />
                  </div>
                </div>
              </div> -->
            </div>
            <div class="addButtonDiv">
              <button onclick="addComplain()" type="submit" class="addButton">
                Add
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
<!-- <script src="./ranges.js"></script> -->
<script src="./commonFunctions.js"></script>
<script src="./addComplain.js"></script>
<script type="module">
  import {
    a,
    complain,
    currentUser,
    visitorComplain,
    IO,
    Ranges,
    category,
    currentRange,
    currentDistrict,
    currentPoliceStation,
    districts,
    act,
    SP,
    DSP,
    SHO,
    policeStations,
    today,
    priority,
    pending,
    disposed,
  } from "./Components/getData.js";
  let userName = document.getElementById("userDetail");
  let allcomp = document.getElementById("allcomp");
  let pendingComp = document.getElementById("pendingcomp");
  let todayComp = document.getElementById("todaycomp");
  let priorityComp = document.getElementById("prioritycomp");
  let disposedComp = document.getElementById("disposedComp");
  let visitorcomp = document.getElementById("visitorcomp");
  async function app() {
    // const result = await getUser();
    // let resStation = await getStation();
    // // console.log(resStation)
    // resStation = resStation.filter((el) => {
    //   // console.log(el);
    //   return result.districtofc === el.policeStationDistrict;
    // });
    await a();
    userName.innerText = `${currentUser.fname} ${currentUser.lname}, ${currentUser.designation}, ${currentUser.districtofc}`;
    allcomp.innerText = `(${complain.length})`;
    pendingComp.innerText = `(${pending.length})`;
    todayComp.innerText = `(${today.length})`;
    priorityComp.innerText = `(${priority.length})`;
    disposedComp.innerText = `(${disposed.length})`;
    visitorcomp.innerText = `(${visitorComplain.length})`;
    user = currentUser;
    appendStation(policeStations);
    appendrangeInput(Ranges, currentRange);
    appenddistrictInput(districts, currentDistrict);
    appendcomplainCategory(category);
    appendAct(act);
  }
  const appendrangeInput = (data, a) => {
    let container = document.getElementById("rangeInput");
    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = el.rangeName;
      option.value = el.rangeName;
      // console.log(option)
      container.append(option);
      // UpdateCont.append(option)
    });
    container.value = a;
  };
  let appendcomplainCategory = (data) => {
    let complainCategory = document.getElementById("complainCategory");
    console.log(data);
    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = el.categoryName;
      option.value = el.categoryName;
      complainCategory.append(option);
    });
  };
  let appendAct = (data) => {
    let act = document.getElementById("act");
    console.log(data);
    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = el.actName;
      option.value = el.actName;
      act.append(option);
    });
  };
  const appenddistrictInput = (data, a) => {
    let container = document.getElementById("districtInput");
    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = el.rangeDistrictName;
      option.value = el.rangeDistrictName;
      container.append(option);
    });
    container.value = a;
  };
  const appendStation = (data) => {
    let SHOName = document.getElementById("SHOName");
    data.map((el) => {
      console.log(el);
      let option = document.createElement("option");
      option.innerText = `${el.policeStationName}`;
      option.value = el.policeStationName;
      SHOName.append(option);
      // IONameView1.append(option)
    });
  };
  app();
</script>
